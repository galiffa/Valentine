<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Valentine</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Nunito:wght@300;400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --rose-1: #ffd6e8;
      --rose-2: #ff9fc5;
      --rose-3: #ff5b9a;
      --rose-4: #c2185b;
      --cream: #fff6f9;
      --ink: #4a1831;
      --gold: #ffb3c7;
      --shadow: rgba(74, 24, 49, 0.25);
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
    }

    body {
      margin: 0;
      font-family: "Nunito", "Segoe UI", sans-serif;
      color: var(--ink);
      background:
        radial-gradient(1200px 700px at 10% -10%, #fff 0%, rgba(255, 255, 255, 0) 60%),
        radial-gradient(1200px 700px at 110% 10%, #fff 0%, rgba(255, 255, 255, 0) 60%),
        linear-gradient(120deg, var(--rose-1) 0%, #fff 40%, var(--rose-2) 100%);
      overflow-x: hidden;
      overflow-y: auto;
      animation: bgDrift 18s ease-in-out infinite alternate;
    }

    .page {
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 24px 16px 48px;
      position: relative;
    }

    .card {
      width: min(920px, 92vw);
      background: rgba(255, 255, 255, 0.78);
      border-radius: 22px;
      box-shadow: 0 16px 40px var(--shadow);
      position: relative;
      overflow: hidden;
      padding: 24px;
      backdrop-filter: blur(8px);
      animation: cardFloat 8s ease-in-out infinite;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }

    .card:hover {
      box-shadow: 0 28px 60px rgba(74, 24, 49, 0.28);
    }

    .card::before,
    .card::after {
      content: "";
      position: absolute;
      width: 240px;
      height: 240px;
      background: radial-gradient(circle, rgba(255, 91, 154, 0.35), rgba(255, 91, 154, 0));
      border-radius: 50%;
      z-index: 0;
    }

    .card::before {
      top: -120px;
      left: -80px;
    }

    .card::after {
      bottom: -140px;
      right: -60px;
    }

    .content {
      position: relative;
      z-index: 2;
      display: grid;
      gap: 20px;
      text-align: center;
    }

    h1 {
      font-family: "Cormorant Garamond", serif;
      font-size: clamp(2.2rem, 7.4vw, 4.2rem);
      margin: 0;
      letter-spacing: 1px;
      text-align: center;
    }

    .subtitle {
      font-size: clamp(0.98rem, 3.2vw, 1.25rem);
      color: #7a2b4f;
      margin: 0;
    }

    .message {
      font-size: clamp(1rem, 3.4vw, 1.35rem);
      line-height: 1.6;
      margin: 0;
    }

    .signature {
      font-family: "Cormorant Garamond", serif;
      font-size: clamp(1.1rem, 3.6vw, 1.6rem);
      margin: 0;
    }

    .heart-row {
      display: flex;
      gap: clamp(6px, 2vw, 12px);
      align-items: center;
      justify-content: center;
      margin: 4px 0;
    }

    .heart {
      --heart-size: 20px;
      display: inline-block;
      width: var(--heart-size);
      height: var(--heart-size);
      background: var(--rose-3);
      position: relative;
      transform: rotate(-45deg);
      animation: pulse 2.2s infinite ease-in-out;
      margin: 0 calc(var(--heart-size) / 3);
    }

    .heart::before,
    .heart::after {
      content: "";
      width: var(--heart-size);
      height: var(--heart-size);
      background: var(--rose-3);
      border-radius: 50%;
      position: absolute;
    }

    .heart::before {
      top: calc(var(--heart-size) / -2);
      left: 0;
    }

    .heart::after {
      left: calc(var(--heart-size) / 2);
      top: 0;
    }

    .heart:nth-child(2) { animation-delay: 0.3s; }
    .heart:nth-child(3) { animation-delay: 0.6s; }
    .heart:nth-child(4) { animation-delay: 0.9s; }

    .ribbon {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 12px 18px;
      background: rgba(255, 183, 203, 0.5);
      border-radius: 999px;
      font-size: 0.95rem;
      color: #7a2b4f;
      width: fit-content;
    }

    .cta {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 12px 20px;
      border-radius: 999px;
      border: 1px solid rgba(194, 24, 91, 0.25);
      background: #fff;
      color: #7a2b4f;
      text-decoration: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      width: fit-content;
    }

    .cta:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 20px rgba(194, 24, 91, 0.15);
    }

    .floating-hearts {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
    }

    .float-heart {
      position: absolute;
      width: 18px;
      height: 18px;
      background: var(--rose-3);
      opacity: 0.8;
      transform: rotate(-45deg);
      animation: floatUp var(--duration) linear infinite;
      filter: drop-shadow(0 6px 6px rgba(194, 24, 91, 0.25));
    }

    .float-heart::before,
    .float-heart::after {
      content: "";
      width: 18px;
      height: 18px;
      background: inherit;
      border-radius: 50%;
      position: absolute;
    }

    .float-heart::before { top: -9px; left: 0; }
    .float-heart::after { left: 9px; top: 0; }

    @keyframes pulse {
      0%, 100% { transform: scale(1) rotate(-45deg); }
      50% { transform: scale(1.15) rotate(-45deg); }
    }

    @keyframes floatUp {
      0% { transform: translateY(110vh) rotate(-45deg) scale(0.8); opacity: 0; }
      10% { opacity: 0.8; }
      90% { opacity: 0.9; }
      100% { transform: translateY(-20vh) rotate(-45deg) scale(1.2); opacity: 0; }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(16px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes cardFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    @keyframes bgDrift {
      0% { background-position: 0% 0%, 100% 0%, 0% 0%; }
      100% { background-position: 10% 5%, 90% 8%, 100% 100%; }
    }

    .reveal {
      opacity: 0;
      animation: fadeInUp 0.8s ease forwards;
    }

    .reveal:nth-child(1) { animation-delay: 0.2s; }
    .reveal:nth-child(2) { animation-delay: 0.4s; }
    .reveal:nth-child(3) { animation-delay: 0.6s; }
    .reveal:nth-child(4) { animation-delay: 0.8s; }
    .reveal:nth-child(5) { animation-delay: 1s; }

    .footer {
      margin-top: 20px;
      font-size: 0.9rem;
      color: rgba(74, 24, 49, 0.6);
    }

    @media (max-width: 600px) {
      .ribbon {
        font-size: 0.85rem;
      }

      .cta {
        width: 100%;
        justify-content: center;
      }
    }

    .intro-screen {
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      background:
        radial-gradient(900px 600px at 10% -10%, #fff 0%, rgba(255, 255, 255, 0) 60%),
        radial-gradient(900px 600px at 110% 10%, #fff 0%, rgba(255, 255, 255, 0) 60%),
        linear-gradient(120deg, var(--rose-1) 0%, #fff 40%, var(--rose-2) 100%);
      z-index: 10;
      padding: 32px 20px;
    }

    .intro-card {
      width: min(700px, 92vw);
      background: rgba(255, 255, 255, 0.88);
      border-radius: 26px;
      box-shadow: 0 16px 40px var(--shadow);
      padding: clamp(28px, 6vw, 56px);
      text-align: center;
      display: grid;
      gap: 22px;
      animation: fadeInUp 0.8s ease forwards;
      position: relative;
      overflow: hidden;
    }

    .intro-card::after {
      content: "";
      position: absolute;
      inset: -40% -10%;
      background: radial-gradient(circle, rgba(255, 125, 170, 0.25), rgba(255, 125, 170, 0));
      opacity: 0.7;
      animation: glowPulse 6s ease-in-out infinite alternate;
      pointer-events: none;
    }

    .intro-card > * {
      position: relative;
      z-index: 1;
    }

    .intro-title {
      font-family: \"Cormorant Garamond\", serif;
      font-size: clamp(2rem, 4.6vw, 3.2rem);
      margin: 0;
    }

    .intro-subtitle {
      margin: -6px 0 0;
      font-size: clamp(0.95rem, 3.4vw, 1.15rem);
      color: #7a2b4f;
    }

    .intro-footnote {
      margin: 0;
      font-size: 0.9rem;
      color: rgba(74, 24, 49, 0.75);
    }

    .intro-actions {
      position: relative;
      display: grid;
      place-items: center;
      min-height: 120px;
    }

    .btn {
      border: none;
      font-family: \"Nunito\", \"Segoe UI\", sans-serif;
      font-size: 1rem;
      padding: 12px 26px;
      border-radius: 999px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .btn-yes {
      background: var(--rose-3);
      color: #fff;
      box-shadow: 0 10px 20px rgba(255, 91, 154, 0.25);
      animation: yesBounce 1.6s ease-in-out infinite;
    }

    .btn-yes:hover {
      transform: translateY(-2px);
    }

    .btn-no {
      background: #fff;
      color: #7a2b4f;
      border: 1px solid rgba(194, 24, 91, 0.25);
      position: absolute;
      transition: transform 0.2s ease;
    }

    .btn-no:hover {
      transform: translateY(-1px);
    }

    .intro-hidden {
      display: none;
    }

    .page-hidden {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.6s ease;
    }

    .page-visible {
      opacity: 1;
      pointer-events: auto;
      transition: opacity 0.6s ease;
    }

    .countdown {
      margin: 20px auto 0;
      max-width: 520px;
      padding: 16px;
      border-radius: 18px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.92), rgba(255, 240, 248, 0.9));
      box-shadow: 0 12px 30px rgba(220, 70, 120, 0.18);
      border: 1px solid rgba(231, 144, 183, 0.4);
    }

    .countdown-label {
      margin: 0 0 10px;
      font-family: "Playfair Display", Georgia, serif;
      font-size: 0.95rem;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: #c94c7c;
    }

    .countdown-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    .countdown-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 12px 8px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.8);
      box-shadow: inset 0 0 0 1px rgba(225, 126, 164, 0.25);
    }

    .countdown-number {
      font-family: "Playfair Display", Georgia, serif;
      font-size: 1.3rem;
      color: #b4376a;
    }

    .countdown-text {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #7b3d52;
    }

    @media (min-width: 720px) {
      .page {
        padding: 48px 20px 80px;
      }

      .card {
        border-radius: 28px;
        box-shadow: 0 20px 50px var(--shadow);
        padding: clamp(28px, 6vw, 64px);
      }

      .content {
        gap: 28px;
      }

      h1 {
        font-size: clamp(2.6rem, 5vw, 4.2rem);
      }

      .subtitle {
        font-size: clamp(1rem, 2.2vw, 1.25rem);
      }

      .message {
        font-size: clamp(1.05rem, 2.4vw, 1.35rem);
      }

      .signature {
        font-size: clamp(1.2rem, 2.8vw, 1.6rem);
      }

      .heart-row {
        gap: clamp(10px, 2vw, 12px);
        margin: 8px 0;
      }

      .heart {
        --heart-size: 28px;
      }

      .countdown {
        margin: 24px auto 0;
        padding: 18px 20px;
      }

      .countdown-label {
        margin: 0 0 12px;
        font-size: 1.1rem;
      }

      .countdown-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }

      .countdown-number {
        font-size: 1.6rem;
      }

      .countdown-text {
        font-size: 0.75rem;
      }
    }

    @media (max-height: 740px) {
      .page {
        padding: 24px 16px 48px;
      }

      .card {
        max-height: calc(100vh - 72px);
      }

      .content {
        max-height: calc(100vh - 160px);
        overflow-y: auto;
        padding-right: 6px;
      }
    }

    .reasons {
      margin: 6px 0 0;
      font-size: 1rem;
      color: #b4517a;
      font-style: italic;
    }

    .sparkle-burst {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      z-index: 5;
    }

    .sparkle-heart {
      position: absolute;
      width: 16px;
      height: 16px;
      background: radial-gradient(circle at 30% 30%, #fff, #ff7fb0);
      transform: rotate(-45deg);
      border-radius: 4px;
      animation: sparkle-pop var(--sparkle-duration, 1.2s) ease-out forwards;
      opacity: 0.9;
    }

    .sparkle-heart::before,
    .sparkle-heart::after {
      content: "";
      position: absolute;
      width: 16px;
      height: 16px;
      background: inherit;
      border-radius: 50%;
    }

    .sparkle-heart::before {
      top: -8px;
      left: 0;
    }

    .sparkle-heart::after {
      left: 8px;
      top: 0;
    }

    @keyframes sparkle-pop {
      0% {
        transform: translate(0, 0) scale(0.6) rotate(-45deg);
        opacity: 0.95;
      }
      100% {
        transform: translate(var(--sparkle-x), var(--sparkle-y)) scale(1.1) rotate(-45deg);
        opacity: 0;
      }
    }

    @keyframes yesBounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-4px) scale(1.03); }
    }

    @keyframes glowPulse {
      0% { transform: scale(0.95); opacity: 0.5; }
      100% { transform: scale(1.05); opacity: 0.85; }
    }

    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(255, 219, 236, 0.7);
      border-radius: 999px;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #ff8fbd, #ff5b9a);
      border-radius: 999px;
      border: 2px solid rgba(255, 255, 255, 0.7);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #ff75b0, #ff3f8e);
    }

    html {
      scrollbar-color: #ff6aa6 rgba(255, 219, 236, 0.7);
      scrollbar-width: thin;
    }
  </style>
</head>
<body>
  <section class="intro-screen" id="introScreen">
    <div class="intro-card">
      <h2 class="intro-title">Hey Gintare, can I steal your heart?</h2>
      <div class="heart-row" aria-hidden="true">
        <span class="heart"></span>
        <span class="heart"></span>
        <span class="heart"></span>
        <span class="heart"></span>
      </div>
      <p class="intro-subtitle">Warning: clicking ‚ÄúYes‚Äù may cause blushing, giggles, and extra cuddles.</p>
      <div class="intro-actions" id="introActions">
        <button class="btn btn-yes" id="yesBtn">Yes üíñ</button>
        <button class="btn btn-no" id="noBtn">No</button>
      </div>
      <p class="intro-footnote">P.S. The ‚ÄúNo‚Äù button is a little shy.</p>
    </div>
  </section>

  <div class="page page-hidden" id="mainPage">
    <div class="floating-hearts" aria-hidden="true"></div>

    <main class="card">
      <div class="content">
        <h1 class="reveal" id="headline">Happy Valentine‚Äôs Day</h1>
        <div class="heart-row reveal" aria-hidden="true">
          <span class="heart"></span>
          <span class="heart"></span>
          <span class="heart"></span>
          <span class="heart"></span>
        </div>
        <p class="subtitle reveal" id="subtitle">You make the ordinary feel magical.</p>
        <p class="reasons reveal" id="reasons">Reason #1: You make me feel at home.</p>

        <p class="message reveal" id="message">
          Every day with you is my favorite kind of adventure ‚Äî soft laughs, warm hugs, and a heart that feels
          perfectly at home. Thank you for being my sweetest yes.
        </p>

        <div class="countdown reveal" id="countdown" aria-live="polite">
          <p class="countdown-label" id="countdownLabel">Countdown to Feb 14</p>
          <div class="countdown-grid" role="presentation">
            <div class="countdown-box">
              <span class="countdown-number" id="countdownDays">0</span>
              <span class="countdown-text">Days</span>
            </div>
            <div class="countdown-box">
              <span class="countdown-number" id="countdownHours">0</span>
              <span class="countdown-text">Hours</span>
            </div>
            <div class="countdown-box">
              <span class="countdown-number" id="countdownMinutes">0</span>
              <span class="countdown-text">Minutes</span>
            </div>
            <div class="countdown-box">
              <span class="countdown-number" id="countdownSeconds">0</span>
              <span class="countdown-text">Seconds</span>
            </div>
          </div>
        </div>

        <p class="signature reveal">Always yours, with all my love, Marcus.</p>

        <p class="footer">(P.S. If you smile reading this, my heart wins.)</p>
      </div>
    </main>
  </div>

  <script>
    const container = document.querySelector('.floating-hearts');
    const heartCount = 28;

    for (let i = 0; i < heartCount; i += 1) {
      const heart = document.createElement('span');
      heart.className = 'float-heart';
      heart.style.left = `${Math.random() * 100}%`;
      heart.style.animationDelay = `${Math.random() * 6}s`;
      heart.style.setProperty('--duration', `${8 + Math.random() * 6}s`);
      heart.style.opacity = `${0.4 + Math.random() * 0.6}`;
      heart.style.transform = `scale(${0.6 + Math.random() * 0.8}) rotate(-45deg)`;
      container.appendChild(heart);
    }

    const introScreen = document.getElementById('introScreen');
    const mainPage = document.getElementById('mainPage');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const introActions = document.getElementById('introActions');
    const headline = document.getElementById('headline');
    const subtitle = document.getElementById('subtitle');
    const reasons = document.getElementById('reasons');
    const message = document.getElementById('message');
    const countdownLabel = document.getElementById('countdownLabel');
    const countdownDays = document.getElementById('countdownDays');
    const countdownHours = document.getElementById('countdownHours');
    const countdownMinutes = document.getElementById('countdownMinutes');
    const countdownSeconds = document.getElementById('countdownSeconds');

    const isValentinesDay = (date) => date.getMonth() === 1 && date.getDate() === 14;
    const reasonsList = [
      'Reason #1: You make me feel at home.',
      'Reason #2: Your smile resets my whole day.',
      'Reason #3: You make cozy feel like magic.',
      'Reason #4: You are my favorite hello.',
      'Reason #5: You make ordinary moments sparkle.',
      'Reason #6: You are my safe place and my adventure.',
    ];
    let reasonIndex = 0;
    let reasonsTimer = null;
    const setRevealCopy = () => {
      if (isValentinesDay(new Date())) {
        headline.textContent = "Happy Valentine‚Äôs Day, Gintare.";
        subtitle.textContent = 'You make the ordinary feel magical.';
        reasons.textContent = reasonsList[0];
        message.textContent =
          'Every day with you is my favorite kind of adventure ‚Äî soft laughs, warm hugs, and a heart that feels perfectly at home. Thank you for being my sweetest yes.';
        return;
      }

      headline.textContent = 'Thank you, pookie.';
      subtitle.textContent = 'I‚Äôm so happy to have you, Gintare.';
      reasons.textContent = reasonsList[0];
      message.textContent =
        'Even on ordinary days, you make everything softer, sweeter, and brighter. I love you so much, and I‚Äôm grateful for every moment we share.';
    };

    const startReasonsLoop = () => {
      if (reasonsTimer) {
        return;
      }
      reasonsTimer = window.setInterval(() => {
        reasonIndex = (reasonIndex + 1) % reasonsList.length;
        reasons.textContent = reasonsList[reasonIndex];
      }, 3200);
    };

    const burstSparkles = () => {
      const burst = document.createElement('div');
      burst.className = 'sparkle-burst';
      const count = 18;
      for (let i = 0; i < count; i += 1) {
        const spark = document.createElement('span');
        spark.className = 'sparkle-heart';
        const angle = (Math.PI * 2 * i) / count;
        const distance = 80 + Math.random() * 60;
        const x = Math.cos(angle) * distance;
        const y = Math.sin(angle) * distance;
        spark.style.setProperty('--sparkle-x', `${x}px`);
        spark.style.setProperty('--sparkle-y', `${y}px`);
        spark.style.setProperty('--sparkle-duration', `${0.9 + Math.random() * 0.6}s`);
        burst.appendChild(spark);
      }
      document.body.appendChild(burst);
      window.setTimeout(() => burst.remove(), 1600);
    };

    const getNextValentines = (fromDate) => {
      const year = fromDate.getFullYear();
      const valentinesThisYear = new Date(year, 1, 14, 0, 0, 0, 0);
      if (fromDate <= valentinesThisYear) {
        return valentinesThisYear;
      }
      return new Date(year + 1, 1, 14, 0, 0, 0, 0);
    };

    const updateCountdown = () => {
      const now = new Date();
      if (isValentinesDay(now)) {
        countdownLabel.textContent = 'It‚Äôs Valentine‚Äôs Day ‚ú®';
        countdownDays.textContent = '0';
        countdownHours.textContent = '0';
        countdownMinutes.textContent = '0';
        countdownSeconds.textContent = '0';
        return;
      }

      const target = getNextValentines(now);
      const diffMs = target - now;
      const totalSeconds = Math.max(Math.floor(diffMs / 1000), 0);
      const days = Math.floor(totalSeconds / 86400);
      const hours = Math.floor((totalSeconds % 86400) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;

      countdownLabel.textContent = `Countdown to ${target.getFullYear()} Valentine‚Äôs Day`;
      countdownDays.textContent = String(days);
      countdownHours.textContent = String(hours).padStart(2, '0');
      countdownMinutes.textContent = String(minutes).padStart(2, '0');
      countdownSeconds.textContent = String(seconds).padStart(2, '0');
    };

    yesBtn.addEventListener('click', () => {
      introScreen.classList.add('intro-hidden');
      mainPage.classList.remove('page-hidden');
      mainPage.classList.add('page-visible');
      setRevealCopy();
      updateCountdown();
      burstSparkles();
      startReasonsLoop();
      window.setInterval(updateCountdown, 1000);
    });

    const rectToLocal = (rect, container) => ({
      left: rect.left - container.left,
      top: rect.top - container.top,
      right: rect.right - container.left,
      bottom: rect.bottom - container.top,
      width: rect.width,
      height: rect.height,
    });

    const isOverlapping = (a, b, padding = 8) =>
      a.left < b.right + padding &&
      a.right > b.left - padding &&
      a.top < b.bottom + padding &&
      a.bottom > b.top - padding;

    const moveNoButton = () => {
      const container = introActions.getBoundingClientRect();
      const yesRect = rectToLocal(yesBtn.getBoundingClientRect(), container);
      const btnWidth = noBtn.offsetWidth;
      const btnHeight = noBtn.offsetHeight;
      const maxX = Math.max(container.width - btnWidth, 0);
      const maxY = Math.max(container.height - btnHeight, 0);

      let nextX = 0;
      let nextY = 0;
      let placed = false;

      for (let i = 0; i < 20; i += 1) {
        const candidateX = Math.random() * maxX;
        const candidateY = Math.random() * maxY;
        const candidateRect = {
          left: candidateX,
          top: candidateY,
          right: candidateX + btnWidth,
          bottom: candidateY + btnHeight,
        };
        if (!isOverlapping(candidateRect, yesRect, 10)) {
          nextX = candidateX;
          nextY = candidateY;
          placed = true;
          break;
        }
      }

      if (!placed) {
        nextX = maxX;
        nextY = maxY;
      }

      noBtn.style.left = `${nextX}px`;
      noBtn.style.top = `${nextY}px`;
    };

    const dodgeIfClose = (event) => {
      const btnBounds = noBtn.getBoundingClientRect();
      const centerX = btnBounds.left + btnBounds.width / 2;
      const centerY = btnBounds.top + btnBounds.height / 2;
      const dx = event.clientX - centerX;
      const dy = event.clientY - centerY;
      const distance = Math.hypot(dx, dy);
      if (distance < 110) {
        moveNoButton();
      }
    };

    moveNoButton();
    noBtn.addEventListener('mouseenter', moveNoButton);
    noBtn.addEventListener('touchstart', moveNoButton);
    introActions.addEventListener('mousemove', dodgeIfClose);
    introActions.addEventListener('touchmove', (event) => {
      if (event.touches.length) {
        dodgeIfClose(event.touches[0]);
      }
    });
    noBtn.addEventListener('click', (event) => {
      event.preventDefault();
      moveNoButton();
    });
  </script>
</body>
</html>
